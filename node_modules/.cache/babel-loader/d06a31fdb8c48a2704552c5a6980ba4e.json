{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar PropTypes = require(\"prop-types\");\n\nvar core_1 = require(\"../../../../core\");\n\nvar NoHitsErrorDisplay_1 = require(\"./NoHitsErrorDisplay\");\n\nvar NoHitsDisplay_1 = require(\"./NoHitsDisplay\");\n\nvar defaults = require(\"lodash/defaults\");\n\nvar NoHits =\n/** @class */\nfunction (_super) {\n  __extends(NoHits, _super);\n\n  function NoHits() {\n    var _this = _super !== null && _super.apply(this, arguments) || this;\n\n    _this.translations = NoHits.translations;\n    return _this;\n  }\n\n  NoHits.prototype.componentDidMount = function () {\n    _super.prototype.componentDidMount.call(this);\n\n    this.noFiltersAccessor = this.searchkit.addAccessor(new core_1.NoFiltersHitCountAccessor());\n\n    if (this.props.suggestionsField) {\n      this.suggestionsAccessor = this.searchkit.addAccessor(new core_1.SuggestionsAccessor(this.props.suggestionsField));\n    }\n  };\n\n  NoHits.prototype.defineBEMBlocks = function () {\n    var block = this.props.mod || \"sk-no-hits\";\n    return {\n      container: block\n    };\n  };\n\n  NoHits.prototype.getSuggestion = function () {\n    return this.suggestionsAccessor && this.suggestionsAccessor.getSuggestion();\n  };\n\n  NoHits.prototype.setQueryString = function (query) {\n    this.searchkit.getQueryAccessor().setQueryString(query, true);\n    this.searchkit.performSearch(true);\n  };\n\n  NoHits.prototype.resetFilters = function () {\n    this.searchkit.getQueryAccessor().keepOnlyQueryState();\n    this.searchkit.performSearch(true);\n  };\n\n  NoHits.prototype.resetSearch = function () {\n    this.searchkit.getQueryAccessor().resetState();\n    this.searchkit.performSearch(true);\n  };\n\n  NoHits.prototype.getFilterCount = function () {\n    return this.noFiltersAccessor && this.noFiltersAccessor.getCount();\n  };\n\n  NoHits.prototype.render = function () {\n    if ((this.hasHits() || this.isInitialLoading() || this.isLoading()) && !this.getError()) return null;\n\n    if (this.getError()) {\n      var props_1 = {\n        errorLabel: this.translate(\"NoHits.Error\"),\n        resetSearchFn: this.resetSearch.bind(this),\n        translate: this.translate,\n        bemBlocks: this.bemBlocks,\n        tryAgainLabel: this.translate(\"NoHits.ResetSearch\"),\n        error: this.getError()\n      };\n      return core_1.renderComponent(this.props.errorComponent, props_1);\n    }\n\n    var suggestion = this.getSuggestion();\n    var query = this.getQuery().getQueryString();\n    var infoKey = suggestion ? \"NoHits.NoResultsFoundDidYouMean\" : \"NoHits.NoResultsFound\";\n    var props = {\n      noResultsLabel: this.translate(infoKey, {\n        query: query,\n        suggestion: suggestion\n      }),\n      translate: this.translate,\n      bemBlocks: this.bemBlocks,\n      suggestion: suggestion,\n      query: query,\n      filtersCount: this.getFilterCount(),\n      resetFiltersFn: this.resetFilters.bind(this),\n      setSuggestionFn: this.setQueryString.bind(this, suggestion)\n    };\n    return core_1.renderComponent(this.props.component, props);\n  };\n\n  NoHits.translations = {\n    \"NoHits.NoResultsFound\": \"No results found for {query}.\",\n    \"NoHits.NoResultsFoundDidYouMean\": \"No results found for {query}. Did you mean {suggestion}?\",\n    \"NoHits.DidYouMean\": \"Search for {suggestion} instead\",\n    \"NoHits.SearchWithoutFilters\": \"Search for {query} without filters\",\n    \"NoHits.Error\": \"We're sorry, an issue occurred when fetching your results. Please try again.\",\n    \"NoHits.ResetSearch\": \"Reset Search\"\n  };\n  NoHits.propTypes = defaults({\n    suggestionsField: PropTypes.string,\n    translations: core_1.SearchkitComponent.translationsPropType(NoHits.translations)\n  }, core_1.SearchkitComponent.propTypes);\n  NoHits.defaultProps = {\n    errorComponent: NoHitsErrorDisplay_1.NoHitsErrorDisplay,\n    component: NoHitsDisplay_1.NoHitsDisplay\n  };\n  return NoHits;\n}(core_1.SearchkitComponent);\n\nexports.NoHits = NoHits;","map":null,"metadata":{},"sourceType":"script"}
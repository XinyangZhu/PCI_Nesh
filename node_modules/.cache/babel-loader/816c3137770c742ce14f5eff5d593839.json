{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar ui_1 = require(\"../../../ui\");\n\nexports.Panel = ui_1.Panel;\nexports.CheckboxItemList = ui_1.CheckboxItemList;\n\nvar FacetFilter_1 = require(\"./FacetFilter\");\n\nvar defaults = require(\"lodash/defaults\");\n\nvar concat = require(\"lodash/concat\");\n\nvar isUndefined = require(\"lodash/isUndefined\");\n\nvar FacetFilterProps_1 = require(\"./FacetFilterProps\");\n\nvar allItem = {\n  key: \"$all\",\n  label: \"All\"\n};\n\nvar MenuFilter =\n/** @class */\nfunction (_super) {\n  __extends(MenuFilter, _super);\n\n  function MenuFilter() {\n    return _super !== null && _super.apply(this, arguments) || this;\n  }\n\n  MenuFilter.prototype.toggleFilter = function (option) {\n    if (option === allItem.key || this.accessor.state.contains(option)) {\n      this.accessor.state = this.accessor.state.clear();\n    } else {\n      this.accessor.state = this.accessor.state.setValue([option]);\n    }\n\n    this.searchkit.performSearch();\n  };\n\n  MenuFilter.prototype.setFilters = function (options) {\n    this.toggleFilter(options[0]);\n  };\n\n  MenuFilter.prototype.getSelectedItems = function () {\n    var selectedValue = this.accessor.state.getValue()[0];\n    return [!isUndefined(selectedValue) ? selectedValue : allItem.key];\n  };\n\n  MenuFilter.prototype.getItems = function () {\n    var all = {\n      key: allItem.key,\n      label: allItem.label,\n      doc_count: this.accessor.getDocCount()\n    };\n    return concat([all], _super.prototype.getItems.call(this));\n  };\n\n  MenuFilter.propTypes = defaults({}, FacetFilterProps_1.FacetFilterPropTypes.propTypes);\n  MenuFilter.defaultProps = defaults({\n    listComponent: ui_1.ItemList,\n    operator: \"OR\"\n  }, FacetFilter_1.FacetFilter.defaultProps);\n  return MenuFilter;\n}(FacetFilter_1.FacetFilter);\n\nexports.MenuFilter = MenuFilter;","map":null,"metadata":{},"sourceType":"script"}